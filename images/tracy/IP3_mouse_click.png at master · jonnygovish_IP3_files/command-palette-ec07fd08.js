System.register(["./chunk-vendor.js","./chunk-frameworks.js","./chunk-copy.js","./chunk-color-modes.js"],function(){"use strict";var a,f,_e,R,d,_,ae,Qe,Je,E,N,Xe,Ve,Pe,Ye,Ze,et,tt,O,ce,W,Te;return{setters:[function(l){a=l.j,f=l.c,_e=l.b,R=l.X,d=l.Y,_=l.t,ae=l.k,Qe=l.g,Je=l.i,E=l.l,N=l.a9,Xe=l.o},function(l){Ve=l.t,Pe=l.aH,Ye=l.aI,Ze=l.aJ,et=l.c,tt=l.P},function(l){O=l.c},function(l){ce=l.g,W=l.s,Te=l.a}],execute:function(){var l=Object.defineProperty,Es=Object.getOwnPropertyDescriptor,Cs=(e,t)=>l(e,"name",{value:t,configurable:!0}),le=(e,t,s,r)=>{for(var i=r>1?void 0:r?Es(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&l(t,s,i),i};const st="*";let U=class extends HTMLElement{constructor(){super(...arguments);this.scopeTypes=""}active(e,t){return this.scopeTypeMatch(e.type)&&this.modeMatch(t)}scopeTypeMatch(e){return this.scopeTypes?this.scopeTypes&&JSON.parse(this.scopeTypes).includes(e):!0}modeMatch(e){return this.char===st||this.char===e}character(){return this.char===st?"":this.char}};Cs(U,"CommandPaletteModeElement"),le([a],U.prototype,"char",2),le([a],U.prototype,"placeholder",2),le([a],U.prototype,"scopeTypes",2),U=le([f],U);var rt=Object.defineProperty,ws=Object.getOwnPropertyDescriptor,xs=(e,t)=>rt(e,"name",{value:t,configurable:!0}),L=(e,t,s,r)=>{for(var i=r>1?void 0:r?ws(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&rt(t,s,i),i};const K="*",it="";let C=class extends HTMLElement{constructor(){super(...arguments);this.type=K,this.mode=K,this.matchMode=it,this.value=K,this.onEmpty=!1,this.onError=!1}connectedCallback(){this.hidden=!0}toggle(e,t=!1,s=!1){const r=this.valueMatch(e.text)&&this.scopeTypeMatch(e.scope.type)&&this.modeMatch(e.mode)&&this.showOnEmpty(t)&&this.showOnError(s);this.hidden=!r}valueMatch(e){return this.value===K||this.value===e}scopeTypeMatch(e){return this.type===K||this.type===e}modeMatch(e){if(this.matchMode===it)return this.mode===K||this.mode===e;{const t=new RegExp(this.matchMode);return e.match(t)!==null}}showOnEmpty(e){return this.onEmpty?e:!0}showOnError(e){return this.onError?e:!0}};xs(C,"CommandPaletteTipElement"),L([a],C.prototype,"type",2),L([a],C.prototype,"mode",2),L([a],C.prototype,"matchMode",2),L([a],C.prototype,"value",2),L([a],C.prototype,"onEmpty",2),L([a],C.prototype,"onError",2),C=L([f],C);var nt=Object.defineProperty,$s=Object.getOwnPropertyDescriptor,Se=(e,t)=>nt(e,"name",{value:t,configurable:!0}),ot=(e,t,s,r)=>{for(var i=r>1?void 0:r?$s(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&nt(t,s,i),i};let y=class extends HTMLElement{connectedCallback(){this.classList.add("mr-1","Truncate","d-inline-flex")}get lastToken(){return this.tokens[this.tokens.length-1]}get text(){return this.tokens.map(e=>e.text).join("")}get id(){return this.lastToken?this.lastToken.id:y.emptyScope.id}get type(){return this.lastToken?this.lastToken.type:y.emptyScope.type}get scope(){return this.hasScope()?{text:this.text,type:this.type,id:this.id,tokens:this.tokens}:y.emptyScope}set scope(e){this.renderTokens(e.tokens)}renderTokens(e){this.clearScope();const t=Se(r=>d`${r.map(s)}`,"tokensTemplate"),s=Se(r=>d`
        <command-palette-token
          data-text="${r.text}"
          data-id="${r.id}"
          data-type="${r.type}"
          data-value="${r.value}"
          data-targets="command-palette-scope.tokens"
          >${r.text}
        </command-palette-token>
      `,"tokenTemplate");R(t(e),this),this.hidden=!this.hasScope()}removeToken(){this.lastToken&&(this.lastRemovedToken=this.lastToken,this.lastToken.remove(),this.renderTokens(this.tokens))}hasScope(){return this.tokens.length>0&&this.type&&this.id&&this.text}clearScope(){for(const e of this.tokens)e.remove()}};Se(y,"CommandPaletteScopeElement"),y.emptyScope={type:"",text:"",id:"",tokens:[]},ot([_e],y.prototype,"tokens",2),y=ot([f],y);var at=Object.defineProperty,Os=Object.getOwnPropertyDescriptor,js=(e,t)=>at(e,"name",{value:t,configurable:!0}),J=(e,t,s,r)=>{for(var i=r>1?void 0:r?Os(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&at(t,s,i),i};let M=class extends HTMLElement{constructor(){super(...arguments);this.type="",this.id="",this.text="",this.value=""}get isLast(){return this.nextElementSibling===null}connectedCallback(){this.classList.add("color-fg-accent","Truncate-text","Truncate-text--expandable","m-0"),this.style.maxWidth=this.isLast?"140px":"80px"}};js(M,"CommandPaletteTokenElement"),J([a],M.prototype,"type",2),J([a],M.prototype,"id",2),J([a],M.prototype,"text",2),J([a],M.prototype,"value",2),M=J([f],M);var ct=Object.defineProperty,Ds=Object.getOwnPropertyDescriptor,lt=(e,t)=>ct(e,"name",{value:t,configurable:!0}),g=(e,t,s,r)=>{for(var i=r>1?void 0:r?Ds(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&ct(t,s,i),i};let m=class extends HTMLElement{constructor(){super(...arguments);this.titleNodes=[],this.rendered=!1,this.containerDataTarget="command-palette-item.containerElement",this.containerClasses="mx-2 px-2 rounded-2 d-flex flex-items-start no-underline border-0",this.containerStyle="padding-top: 10px; padding-bottom: 10px; cursor: pointer;"}renderOcticon(e){this.iconElement.innerHTML=e}renderAvatar(e,t){R(this.item.getAvatarTemplate(e,t),this.iconElement)}setItemAttributes(e){this.item=e,this.itemId=e.id,this.itemTitle=e.title,this.hint=e.getHint(),this.href=e.path,e.subtitle&&(this.subtitle=e.subtitle)}connectedCallback(){this.subtitle&&this.subtitleElement.removeAttribute("hidden"),this.titleNodes.length>0&&(this.titleElement.textContent="",this.titleElement.append(...this.titleNodes)),this.containerElement.addEventListener("click",e=>{this.item.activate(this.commandPalette,e)})}get commandPalette(){return this.closest("command-palette")}attributeChangedCallback(e,t,s){this.rendered&&(e==="data-selected"?(this.setSelectionAppearance(),this.item.select(this)):e==="data-item-title"?this.titleElement.textContent=s:e==="data-subtitle"&&(this.subtitleElement.textContent=s))}setSelectionAppearance(){this.selected?(this.containerElement.classList.add("color-bg-subtle"),this.hintText.hidden=!1):(this.containerElement.classList.remove("color-bg-subtle"),this.hintText.hidden=!0)}renderLinkContainer(e){return d`
      <a
        data-target="${this.containerDataTarget}"
        href="${this.href}"
        class="${this.containerClasses}"
        data-skip-pjax
        style="${this.containerStyle}"
      >
        ${e}
      </a>
    `}renderSpanContainer(e){return d`
      <span data-target="${this.containerDataTarget}" class="${this.containerClasses}" style="${this.containerStyle}">
        ${e}
      </span>
    `}renderElementContent(){return d`
      <div
        data-target="command-palette-item.iconElement"
        class="mr-2 color-fg-muted d-flex flex-items-center"
        style="height: 24px;"
      ></div>

      <div class="flex-1 d-flex flex-column" style="line-height: 24px;">
        <span data-target="command-palette-item.titleElement" class="color-fg-default f5">${this.itemTitle}</span>
        <p data-target="command-palette-item.subtitleElement" class="color-fg-muted f6 mb-0" hidden>${this.subtitle}</p>
      </div>

      <div class="color-fg-muted f5" style="line-height: 20px;">
        <span class="hide-sm" data-target="command-palette-item.hintText" style="line-height: 24px;" hidden
          >${this.hint}</span
        >
        <span
          class="hide-sm"
          data-target="command-palette-item.persistentHint"
          style="line-height: 24px;"
          hidden
        ></span>
      </div>
    `}renderElement(){const e=this.renderElementContent();R(lt(()=>this.href?this.renderLinkContainer(e):this.renderSpanContainer(e),"itemTemplate")(),this),this.rendered=!0}};lt(m,"CommandPaletteItemElement"),g([a],m.prototype,"itemId",2),g([a],m.prototype,"itemTitle",2),g([a],m.prototype,"subtitle",2),g([a],m.prototype,"selected",2),g([a],m.prototype,"score",2),g([_],m.prototype,"titleElement",2),g([_],m.prototype,"iconElement",2),g([_],m.prototype,"subtitleElement",2),g([_],m.prototype,"hintText",2),g([_],m.prototype,"persistentHint",2),g([_],m.prototype,"containerElement",2),m=g([f],m);var Ls=function(){for(var e=new Uint32Array(256),t=256;t--;){for(var s=t,r=8;r--;)s=s&1?3988292384^s>>>1:s>>>1;e[t]=s}return function(i){var n=-1;typeof i=="string"&&(i=function(p){for(var Ss=p.length,Is=new Array(Ss),ze=-1;++ze<Ss;)Is[ze]=p.charCodeAt(ze);return Is}(i));for(var o=0,h=i.length;o<h;o++)n=n>>>8^e[n&255^i[o]];return(n^-1)>>>0}}(),Ms=function(e){return e<0&&(e=4294967295+e+1),("0000000"+e.toString(16)).slice(-8)},ut=function(e,t){var s=Ls(e);return t?Ms(s):s},As=Object.defineProperty,qs=(e,t)=>As(e,"name",{value:t,configurable:!0});function X(e,t){const s=document.querySelector("command-palette"),r={command_palette_session_id:s.sessionId,command_palette_scope:s.query.scope.type,command_palette_mode:s.getMode(),command_palette_title:(t==null?void 0:t.group)==="commands"?t.title:"",command_palette_position:t==null?void 0:t.position,command_palette_score:t==null?void 0:t.score,command_palette_group:t==null?void 0:t.group,command_palette_item_type:t==null?void 0:t.itemType};Ve(`command_palette_${e}`,r)}qs(X,"sendTrackingEvent");var ks=Object.defineProperty,ht=(e,t)=>ks(e,"name",{value:t,configurable:!0});const V=class{constructor(e){this.position="",this.newTabOpened=!1;var t;this.data=e,this.title=e.title,this.priority=e.priority,this.score=e.score,this.subtitle=e.subtitle,this.typeahead=e.typeahead,this.scope=e.scope,this.icon=e.icon,this.group=(t=e.group)!=null?t:V.defaultGroupId}static register(e){this.itemClasses[e.itemType]=e}static get itemType(){return this.buildItemType(this.name)}static buildItemType(e){return e.replace(/([A-Z]($|[a-z]))/g,"_$1").replace(/(^_|_Item$)/g,"").toLowerCase()}static build(e){const t=this.itemClasses[e.action.type];if(t)return new t(e);throw new Error(`No item handler for ${e.action.type}`)}getAvatarTemplate(e,t){return d`<img src="${e}" alt="${t}" class="avatar avatar-1 avatar-small circle" />`}getHint(){return this.data.hint?d`<span class="hide-sm">${this.data.hint}</span>`:this.data.scope?d`<div class="hide-sm">
        <kbd class="hx_kbd">Enter</kbd>
        to jump to
        <kbd class="hx_kbd ml-1">Tab</kbd>
        to search
      </div>`:d`<span class="hide-sm">Jump to</span>`}get key(){return`${this.data.action.type}/${this.title}/${this.group}`}get id(){return this._id||(this._id=ut(this.key).toString()),this._id}get path(){return this.data.action.path||""}get itemType(){return V.buildItemType(this.constructor.name)}select(e){}deselect(e){}activate(e,t){X(this.activateTrackingEventType,this)}get activateTrackingEventType(){return"activate"}activateLinkBehavior(e,t,s){const r=this.fetchRenderedItem().containerElement;s&&r instanceof HTMLAnchorElement?(this.newTabOpened=!0,this.openLinkInNewTab(r)):(this.newTabOpened=!1,this.openLink(r))}openLinkInNewTab(e){const t=e.getAttribute("target");e.setAttribute("target","_blank"),e.click(),t?e.setAttribute("target",t):e.removeAttribute("target")}openLink(e){e.click()}copy(e){X("copy",this)}render(e,t){const s=new m;return s.setItemAttributes(this),s.renderElement(),e&&(s.selected=!0),t&&(s.titleNodes=this.emphasizeTextMatchingQuery(this.title,t)),s}emphasizeTextMatchingQuery(e,t){if(!Pe(t,e))return[document.createTextNode(e)];const s=[];let r=0;for(const n of Ye(t,e)){if(e.slice(r,n)!==""){const p=document.createTextNode(e.slice(r,n));s.push(p)}r=n+1;const h=document.createElement("strong");h.textContent=e[n],s.push(h)}const i=document.createTextNode(e.slice(r));return s.push(i),s}fetchRenderedItem(){return document.querySelector(`command-palette-item[data-item-id="${this.id}"]`)}copyToClipboardAndAnnounce(e,t){O(e);const r=this.fetchRenderedItem().hintText,i=r.textContent;r.classList.add("color-fg-success"),r.textContent=t!=null?t:"Copied!",setTimeout(()=>{r.classList.remove("color-fg-success"),r.textContent=i},2e3)}calculateScore(e){const t=this.matchFields.map(s=>this.calculateScoreForField({field:s,queryText:e}));return Math.max(...t)}calculateScoreForField({field:e,queryText:t}){return Pe(t,e)?Ze(t,e):-1/0}get matchFields(){return this.data.match_fields?this.data.match_fields:[this.title]}autocomplete(e){const t=e.commandPaletteInput,s=this.typeahead;s!==void 0?t.value=t.overlay+s:t.value=t.overlay+this.title}clone(){const e=new V(this.data);return e._id=this.id,e}};let c=V;ht(c,"Item"),c.topGroupId="top",c.defaultGroupId="default",c.footerGroupId="footer",c.helpGroupIds=["modes_help","filters_help"],c.commandGroupIds=["commands"],c.topGroupScoreThreshold=9,c.itemClasses={},c.defaultData={title:"",score:1,priority:1,action:{type:"",path:""},icon:{type:"octicon",id:"dash-color-fg-muted"},group:V.defaultGroupId};function v(e){c.register(e)}ht(v,"item");var pt=Object.defineProperty,Hs=Object.getOwnPropertyDescriptor,dt=(e,t)=>pt(e,"name",{value:t,configurable:!0}),A=(e,t,s,r)=>{for(var i=r>1?void 0:r?Hs(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&pt(t,s,i),i};let P=class extends HTMLElement{connectedCallback(){this.classList.add("py-2","border-top"),this.setAttribute("hidden","true"),this.renderElement("")}prepareForNewItems(){this.list.innerHTML="",this.setAttribute("hidden","true"),this.classList.contains("border-top")||this.classList.add("border-top")}hasItem(e){return this.list.querySelectorAll(`[data-item-id="${e.id}"]`).length>0}renderElement(e){R(dt(()=>this.hasTitle?d`
          <div class="d-flex flex-justify-between my-2 px-3">
            <span data-target="command-palette-item-group.header" class="color-fg-muted text-bold f6 text-normal">
              ${this.groupTitle}
            </span>
            <span data-target="command-palette-item-group.header" class="color-fg-muted f6 text-normal">
              ${e?"":this.groupHint}
            </span>
          </div>
          <div
            role="listbox"
            class="list-style-none"
            data-target="command-palette-item-group.list"
            aria-label="${this.groupTitle} results"
          ></div>
        `:d`
          <div
            role="listbox"
            class="list-style-none"
            data-target="command-palette-item-group.list"
            aria-label="${this.groupTitle} results"
          ></div>
        `,"groupTemplate")(),this)}push(e){this.removeAttribute("hidden"),this.topGroup&&this.atLimit?e.itemId!==this.firstItem.itemId&&this.replaceTopGroupItem(e):this.list.append(e)}replaceTopGroupItem(e){this.list.replaceChild(e,this.firstItem)}groupLimitForScope(){const e=this.closest("command-palette");if(e){const t=e.query.scope.type;return JSON.parse(this.groupLimits)[t]}}get limit(){const e=this.groupLimitForScope();return this.topGroup?1:this.isModeActive()?50:e||P.defaultGroupLimit}isModeActive(){const e=this.closest("command-palette");return e?e.getMode():!1}get atLimit(){return this.list.children.length>=this.limit}get topGroup(){return this.groupId===c.topGroupId}get hasTitle(){return this.groupId!==c.footerGroupId}get itemNodes(){return this.list.querySelectorAll("command-palette-item")}get firstItem(){return this.itemNodes[0]}get lastItem(){return this.itemNodes[this.itemNodes.length-1]}};dt(P,"CommandPaletteItemGroupElement"),P.defaultGroupLimit=5,A([a],P.prototype,"groupTitle",2),A([a],P.prototype,"groupHint",2),A([a],P.prototype,"groupId",2),A([a],P.prototype,"groupLimits",2),A([_],P.prototype,"list",2),A([_],P.prototype,"header",2),P=A([f],P);var mt=Object.defineProperty,Bs=Object.getOwnPropertyDescriptor,Fs=(e,t)=>mt(e,"name",{value:t,configurable:!0}),Y=(e,t,s,r)=>{for(var i=r>1?void 0:r?Bs(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&mt(t,s,i),i};let q=class extends HTMLElement{constructor(){super(...arguments);this.topGroupThreshold=6.5,this.maxHeightVh=65,this.showDebugInfo=!1,this.octicons={},this.tryDefaultSelection=!1,this.eventListenersBound=!1,this.currentHeight=0,this.items={},this.history={}}connectedCallback(){this.classList.add("rounded-bottom-2")}get selectedItem(){return this.findSelectedElement()}set selectedItem(e){const t=this.findSelectedElement();t&&(t.selected=!1),e&&(e.selected=!0,this.selectedItemChanged(e.item))}get selectedItemIsTopResult(){var e;const t=this.findGroup(c.topGroupId);return t&&t.itemNodes.length>0?t.firstItem.itemId===((e=this.selectedItem)==null?void 0:e.itemId):!1}findSelectedElement(){return this.querySelector('command-palette-item[data-selected="true"]')}navigate(e){var t,s;this.tryDefaultSelection=!1;const r=e>0,i={behavior:"smooth",block:"nearest"};if(this.selectedItem){let n;if(r?n=(t=this.selectedItem)==null?void 0:t.nextElementSibling:n=(s=this.selectedItem)==null?void 0:s.previousElementSibling,n)this.selectedItem=n,this.selectedItem.scrollIntoView(i);else if(this.selectedItem){const o=this.visibleGroups[this.calculateIndex(e)];o.scrollIntoView(i),r?this.selectedItem=o.firstItem:this.selectedItem=o.lastItem}}else this.selectedItem=this.firstItem}calculateIndex(e){let t=this.visibleGroups.findIndex(i=>{var n;return i.groupId===((n=this.selectedItem)==null?void 0:n.item.group)});this.findGroup(c.topGroupId).firstItem===this.selectedItem&&(t=0);const s=t+e,r=this.visibleGroups.length;return(s%r+r)%r}historyItems(e){return this.history[e]||(this.history[e]={}),this.history[e]}addItemToHistory(e,t,s){const r=this.historyItems(t),i=s.calculateScore(e);r[s.id]=i}addItems(e,t,s=!1){for(const r of t)this.addItemToHistory(e.text,e.path,r),this.items[r.id]=r,s&&this.prefillHistory(r,e);ae(this.renderCurrentItems.bind(this),this.debounceWait)()}removeItem(e){return delete this.items[e.id]}removeItems(e){const t=e.map(s=>({item:s,removed:this.removeItem(s)}));return ae(this.renderCurrentItems.bind(this),this.debounceWait)(),t}prefillHistory(e,t){for(const s of e.matchFields){const r=15,i=Math.min(s.length,r);for(let n=0;n<=i;n++){const o=s.slice(0,n);this.addItemToHistory(o,t.buildPath(t,o),e)}}}get debounceWait(){return 16}renderCurrentItems(){const e=this.getQuery().immutableCopy();this.currentPath!==e.path&&this.reset();const t=[...this.currentItems];if(e.isPresent()&&t.length>0){const s=this.findGroup(c.topGroupId);for(let r=0;r<s.limit;r++){const i=t[r],n=i.calculateScore(e.queryText),o=i.priority+n;i&&o>this.topGroupThreshold&&this.renderItem(t.shift(),c.topGroupId)}}this.renderItems(t),this.updateSelectedItem(),this.itemsUpdated()}itemsUpdated(){const e=new CustomEvent("itemsUpdated",{cancelable:!0,detail:{items:this.currentItems,queryPath:this.getQuery().immutableCopy().path}});return this.dispatchEvent(e)}selectedItemChanged(e){const t=new CustomEvent("selectedItemChanged",{cancelable:!0,detail:{item:e,isDefaultSelection:this.tryDefaultSelection}});return this.dispatchEvent(t)}renderItems(e){for(const t of e)this.renderItem(t,t.group);this.setGroupBorders(),this.setMaxHeight()}get maximumHeight(){const e=475,t=50,s=window.innerHeight*(t/100);return Math.min(s,e)}get innerContentHeight(){let e=0;for(const t of this.children){const s=t,r=getComputedStyle(s),i=parseInt(r.marginTop.replace("px",""),10),n=parseInt(r.marginBottom.replace("px",""),10),o=s.offsetHeight+i+n;s.offsetHeight>0&&(e+=o)}return e}setMaxHeight(){const e=.6,t=this.maximumHeight*e,s=Math.round(Math.min(this.maximumHeight,this.innerContentHeight));Math.abs(this.currentHeight-s)>t?this.classList.add("no-transition"):this.classList.remove("no-transition"),this.setAttribute("style",`max-height:${s}px; min-height:${s}px;`),this.currentHeight=s}setGroupBorders(){if(this.visibleGroups.length>0){this.visibleGroups[0].classList.remove("border-top");for(const e of this.visibleGroups)this.visibleGroups.indexOf(e)===0?(e.classList.remove("border-top"),e.header&&(e.classList.remove("py-2"),e.classList.add("mb-2","mt-3"))):(e.classList.add("border-top"),e.header&&(e.classList.remove("mb-2","mt-3"),e.classList.add("py-2")))}}renderItem(e,t){const s=this.findGroup(t);if((s.hasItem(e)||s.atLimit||this.topGroup.hasItem(e))&&!s.topGroup)return;const r=e.render(!1,this.getQuery().immutableCopy().queryText);if(this.showDebugInfo&&(r.score=e.score),s.push(r),r.containerElement){const n=s.list.children.length.toString();e.position=n}if(e.icon)if(e.icon.type==="octicon"){const n=this.octicons[e.icon.id],o=this.octicons["dash-color-fg-muted"];r.renderOcticon(n||o)}else e.icon.type==="avatar"&&r.renderAvatar(e.icon.url,e.icon.alt);else r.iconElement.hidden=!0;r.addEventListener("mousemove",n=>{(n.movementX!==0||n.movementY!==0)&&this.selectedItem!==r&&(this.tryDefaultSelection=!1,this.selectedItem=r)})}findGroup(e){return this.groups.find(t=>t.groupId===e)}get topGroup(){return this.findGroup(c.topGroupId)}get groupIds(){return this.groups.map(e=>e.groupId)}updateSelectedItem(){this.isSelectedItemInvalid()&&this.clearSelection(),this.setDefaultSelection()&&(this.selectedItem=this.firstItem)}setDefaultSelection(){const e=this.getQuery().hasScope()||this.getQuery().isPresent();return this.tryDefaultSelection&&e}noItemSelected(){return!this.selectedItem||this.isSelectedItemInvalid()}isSelectedItemInvalid(){return!this.currentItems.some(e=>{var t;return e.id===((t=this.selectedItem)==null?void 0:t.itemId)})}isEmpty(){return!this.currentItems||this.currentItems.length===0}clearSelection(){this.selectedItem=void 0}clear(){this.history={},this.items={},this.reset()}reset(){this.tryDefaultSelection=!0,this.currentPath=this.getQuery().immutableCopy().path;for(const e of this.groups)e.prepareForNewItems()}clearItemsFor(e){const t=this.groups.filter(r=>e.includes(r.groupId));for(const r of t)r.prepareForNewItems();const s=Object.values(this.items).filter(r=>e.includes(r.group));this.removeItems(s)}get visibleGroups(){return this.groups.filter(e=>!e.hidden)}get firstItem(){const e=this.visibleGroups;if(e.length>0)return e[0].querySelector("command-palette-item")}get currentItems(){const e=this.getQuery().immutableCopy(),t=this.historyItems(e.path),s=Object.entries(t).map(([r,i])=>{const n=this.items[r];return n?(n.score=i,n):(delete t[r],null)}).filter(r=>r!==null);return s?e.isBlank()?s.sort((r,i)=>i.priority-r.priority):s.sort((r,i)=>i.score-r.score||i.priority-r.priority):[]}disconnectedCallback(){this.unbindListeners()}bindListeners(){this.eventListenersBound||(window.addEventListener("resize",this.setMaxHeight.bind(this)),this.eventListenersBound=!0)}unbindListeners(){window.removeEventListener("resize",this.setMaxHeight.bind(this)),this.eventListenersBound=!1}};Fs(q,"CommandPaletteItemStackElement"),Y([a],q.prototype,"topGroupThreshold",2),Y([a],q.prototype,"maxHeightVh",2),Y([a],q.prototype,"showDebugInfo",2),Y([_e],q.prototype,"groups",2),q=Y([f],q);var ft=Object.defineProperty,Gs=Object.getOwnPropertyDescriptor,ue=(e,t)=>ft(e,"name",{value:t,configurable:!0}),k=(e,t,s,r)=>{for(var i=r>1?void 0:r?Gs(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&ft(t,s,i),i};const Rs="*";let b=class extends HTMLElement{constructor(){super(...arguments);this.mode="",this.src="",this.type="remote",this.debounce=0,this.scopeTypes="",this.hasCommands=!1}static registerProvider(e){const t=e.name.replace(/([A-Z]($|[a-z]))/g,"-$1").replace(/(^-|-Provider$)/g,"").toLowerCase();this.providerClasses[t]=e}static getProvider(e){const t=this.providerClasses[e];if(t)return t;throw new Error(`${e} provider not found`)}get provider(){if(!this._provider){const e=b.getProvider(this.type);this._provider=new e(this)}return this._provider}get octicons(){return this.provider.octicons}async prefetch(e){await this.provider.prefetch(e)}async fetch(e,t){return this.lastFetchQuery=e,await Ns(this.debounce),this.lastFetchQuery!==e?{results:[]}:this.provider.fetch(e,t)}isWildcardMode(){return this.mode===Rs}appliesTo(e){return(this.mode===e.mode||this.isWildcardMode())&&Ie(e,this.scopeTypes)}};ue(b,"CommandPaletteProviderElement"),b.providerClasses={},k([a],b.prototype,"mode",2),k([a],b.prototype,"src",2),k([a],b.prototype,"type",2),k([a],b.prototype,"debounce",2),k([a],b.prototype,"scopeTypes",2),k([a],b.prototype,"hasCommands",2),b=k([f],b);function I(e){b.registerProvider(e)}ue(I,"provider");function Ie(e,t){return t?t&&JSON.parse(t).includes(e.scope.type):!0}ue(Ie,"isEnabledScopeType");const Ns=ue(e=>new Promise(t=>setTimeout(t,e)),"delay");var vt=Object.defineProperty,Ws=Object.getOwnPropertyDescriptor,Us=(e,t)=>vt(e,"name",{value:t,configurable:!0}),Ks=(e,t,s,r)=>{for(var i=r>1?void 0:r?Ws(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&vt(t,s,i),i};let Z=class extends c{static from({title:e,group:t,index:s,prefix:r,persistentHint:i}){return new Z({title:e,typeahead:"",priority:-10-s,score:-10,group:t,action:{type:"help",description:"",prefix:r},persistentHint:i!=null?i:""})}getHint(){return d``}render(e,t){const s=super.render(e,void 0),r=document.createElement("span");return r.innerHTML=this.title,s.titleNodes=[r],this.data.persistentHint&&(s.persistentHint.innerHTML=this.data.persistentHint,s.persistentHint.hidden=!1),s}activate(e,t){e.commandPaletteInput.value=this.action.prefix+e.getTextWithoutMode()}copy(){}autocomplete(e){e.commandPaletteInput.value=this.action.prefix+e.getTextWithoutMode()}calculateScore(e){return 0}get action(){return this.data.action}};Us(Z,"HelpItem"),Z=Ks([v],Z);var yt=Object.defineProperty,zs=Object.getOwnPropertyDescriptor,Qs=(e,t)=>yt(e,"name",{value:t,configurable:!0}),z=(e,t,s,r)=>{for(var i=r>1?void 0:r?zs(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&yt(t,s,i),i};let j=class extends HTMLElement{connectedCallback(){this.hidden=!0}show(e){return this.isEnabledScopeType(e)}isEnabledScopeType(e){return this.scopeTypes?this.scopeTypes&&JSON.parse(this.scopeTypes).includes(e.scope.type):!0}toItem(e){const t={group:this.group,title:this.titleElement.innerHTML,index:e};return this.prefix&&(t.prefix=this.prefix),this.hintElement.textContent&&(t.persistentHint=this.hintElement.innerHTML),Z.from(t)}};Qs(j,"CommandPaletteHelpElement"),z([a],j.prototype,"group",2),z([a],j.prototype,"prefix",2),z([a],j.prototype,"scopeTypes",2),z([_],j.prototype,"titleElement",2),z([_],j.prototype,"hintElement",2),j=z([f],j);var Ee=Object.defineProperty,Js=Object.getOwnPropertyDescriptor,gt=Object.getOwnPropertySymbols,Xs=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable,bt=(e,t,s)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ys=(e,t)=>{for(var s in t||(t={}))Xs.call(t,s)&&bt(e,s,t[s]);if(gt)for(var s of gt(t))Vs.call(t,s)&&bt(e,s,t[s]);return e},Zs=(e,t)=>Ee(e,"name",{value:t,configurable:!0}),er=(e,t,s,r)=>{for(var i=r>1?void 0:r?Js(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&Ee(t,s,i),i};let ee=class extends c{activate(e){super.activate(e);const t=new URL(this.action.path,window.location.origin),s=new FormData;for(const r in this.action.payload)s.append(r,this.action.payload[r]);fetch(t.toString(),{method:this.action.method,body:s,headers:Ys({"X-Requested-With":"XMLHttpRequest"},this.action.headers)})}get activateTrackingEventType(){return"fetch_executed"}get action(){return this.data.action}get key(){return`${super.key}/${this.action.method}/${this.action.path}`}};Zs(ee,"FetchItem"),ee.actionType="fetch",ee=er([v],ee);var _t=Object.defineProperty,tr=Object.getOwnPropertyDescriptor,sr=(e,t)=>_t(e,"name",{value:t,configurable:!0}),rr=(e,t,s,r)=>{for(var i=r>1?void 0:r?tr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&_t(t,s,i),i};let H=class extends ee{static from(e,t){const s=document.querySelector("command-palette").querySelector(".js-color-mode-csrf").value,r=document.querySelector("command-palette").querySelector(".js-color-mode-path").value,i=ce("light")||"";return new H({title:e,priority:1,score:1,group:"commands",action:{type:"color_mode_command",description:"Switch to theme",theme:t,previousTheme:i,path:r,method:"PUT",payload:{color_mode:"auto",light_theme:t},headers:{"Scoped-CSRF-Token":s}},icon:{type:"octicon",id:t.match("light")?"sun-color-fg-muted":"moon-color-fg-muted"}})}render(e,t){const s=super.render(e,t);if(this.action.theme===this.action.previousTheme){const r=s.titleElement,i=r.textContent;Qe(Je`${i} <span class="ml-2 Label text-small">Active</span>`,r)}return s}select(){W(this.action.theme,"light")}deselect(){W(this.action.previousTheme,"light")}activate(e){super.activate(e),this.action.previousTheme=this.action.payload.light_theme,e.popSubmenu(),e.manualToggle(!1)}get activateTrackingEventType(){return"command_executed"}get action(){return this.data.action}get key(){return`${super.key}/${this.action.theme}`}};sr(H,"ColorModeItem"),H=rr([v],H);var Pt=Object.defineProperty,ir=Object.getOwnPropertyDescriptor,nr=(e,t)=>Pt(e,"name",{value:t,configurable:!0}),or=(e,t,s,r)=>{for(var i=r>1?void 0:r?ir(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&Pt(t,s,i),i};let Ce=class extends c{get action(){return this.data.action}get activateTrackingEventType(){return"command_executed"}activate(e){super.activate(e),e.runCommand(this.title,this.action.command.id)}};nr(Ce,"CustomCommandItem"),Ce=or([v],Ce);var ar=Object.defineProperty,we=(e,t)=>ar(e,"name",{value:t,configurable:!0});function Tt(){return typeof Window=="undefined"}we(Tt,"withinWebWorker");class St{constructor(t,s=window){this.replyListeners={},this.routes={},this.receiver=t,this.sender=s,this.sender.onmessage=this.receive.bind(this)}addListener(t,s){this.routes[t]=s}respond(t,s){this.postMessage({id:t,type:"response",payload:s})}isReceiverWebWorker(){return this.receiver instanceof Worker}postMessage(t){Tt()?self.postMessage(t):this.isReceiverWebWorker()?this.receiver.postMessage(t):this.receiver.postMessage(t,"*")}async listenForReply(t){let s=we(()=>{},"resolveOutside");const r=new Promise(i=>{s=i});return this.replyListeners[t]=s,r}generateId(t){const s=new Date().getTime().toString(),r=Math.random().toString();return`${t}-${s}-${r}`}async post(t,s){const r=this.generateId(t);return this.postMessage({id:r,type:t,payload:s}),this.listenForReply(r)}async receive(t){const{id:s,type:r}=t.data;r==="response"?this.replyListeners[s](t.data):this.routes[r]&&this.routes[r](t.data)}forward(t,...s){for(const r of s)this.addListener(r,async i=>{const n=await t.post(r,i.payload);this.respond(i.id,n.payload)})}}we(St,"Switchboard");var cr=Object.defineProperty,lr=(e,t)=>cr(e,"name",{value:t,configurable:!0});class he extends St{static setup(){const t=document.querySelector("iframe.js-command-palette-commands"),s=new he(t.contentWindow);return s.originUrl=t.getAttribute("data-url"),s.addListener("graphql",async r=>{const i=r.payload,n=await s.fetchGraphql(i.query,i.variables);s.respond(r.id,n)}),s.addListener("flash",r=>{const i=r.payload;s.displayFlash(i.type,i.message)}),s.addListener("confirm",r=>{const i=r.payload;s.respond(r.id,window.confirm(i.message))}),s.addListener("navigate",r=>{const i=r.payload;s.openLink(i.path,i.options)}),s.addListener("copyToClipboard",async r=>{const i=r.payload;try{await O(i.text),s.respond(r.id,!0)}catch(n){s.respond(r.id,!1)}}),s}async receive(t){if(!(t.origin!==this.originUrl||!this.originUrl))return super.receive(t)}openLink(t,s){if(this.parseHref(t).origin!==window.origin)this.displayFlash("error",`You can only navigate within ${window.origin}.`);else if(s==null?void 0:s.openInNewTab){const i=document.createElement("a");i.href=t,i.target="_blank",i.click()}else window.location.href=t}parseHref(t){try{return new URL(t,void 0)}catch(s){return new URL(t,window.origin)}}async runCommand(t){return this.post("runCommand",t)}async fetchGraphql(t,s){const r=new URL("/command_palette/graphql",window.origin),i=document.querySelector(".js-graphql-csrf").value;return(await fetch(r.toString(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","Scoped-CSRF-Token":i},body:JSON.stringify({query:t,variables:s})})).json()}}lr(he,"PaletteToRunnerSwitchboard");var It=Object.defineProperty,Et=Object.getOwnPropertySymbols,ur=Object.prototype.hasOwnProperty,hr=Object.prototype.propertyIsEnumerable,Ct=(e,t,s)=>t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,pr=(e,t)=>{for(var s in t||(t={}))ur.call(t,s)&&Ct(e,s,t[s]);if(Et)for(var s of Et(t))hr.call(t,s)&&Ct(e,s,t[s]);return e},dr=(e,t)=>It(e,"name",{value:t,configurable:!0});class D{constructor(t,s,{scope:r,subjectId:i,subjectType:n,returnTo:o}={}){this.queryText=t,this.queryMode=s,this.scope=r!=null?r:y.emptyScope,this.subjectId=i,this.subjectType=n,this.returnTo=o}get text(){return this.queryText}get mode(){return this.queryMode}get path(){return this.buildPath(this)}buildPath(t,s=t.text){return`scope:${t.scope.type}-${t.scope.id}/mode:${t.mode}/query:${s}`}clearScope(){this.scope=y.emptyScope}hasScope(){return this.scope.id!==y.emptyScope.id}isBlank(){return this.text.trim().length===0}isPresent(){return!this.isBlank()}immutableCopy(){const t=this.text,s=this.mode,r=pr({},this.scope);return new D(t,s,{scope:r,subjectId:this.subjectId,subjectType:this.subjectType,returnTo:this.returnTo})}hasSameScope(t){return this.scope.id===t.scope.id}params(){const t=new URLSearchParams;return this.isPresent()&&t.set("q",this.text),this.hasScope()&&t.set("scope",this.scope.id),this.mode&&t.set("mode",this.mode),this.returnTo&&t.set("return_to",this.returnTo),this.subjectId&&t.set("subject",this.subjectId),t}}dr(D,"Query");var xe=Object.defineProperty,mr=Object.getOwnPropertyDescriptor,wt=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,vr=Object.prototype.propertyIsEnumerable,xt=(e,t,s)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,pe=(e,t)=>{for(var s in t||(t={}))fr.call(t,s)&&xt(e,s,t[s]);if(wt)for(var s of wt(t))vr.call(t,s)&&xt(e,s,t[s]);return e},$e=(e,t)=>xe(e,"name",{value:t,configurable:!0}),Oe=(e,t,s,r)=>{for(var i=r>1?void 0:r?mr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&xe(t,s,i),i};const je=$e(()=>navigator.platform.match(/Mac/),"isMac"),yr=je()?"metaKey":"ctrlKey",te=$e(e=>e instanceof KeyboardEvent?e[yr]:!1,"isPlatformMetaKey");let T=class extends HTMLElement{constructor(){super(...arguments);this.activated=!1,this.error=!1,this.query=new D("",""),this.requestsInProgress=[],this.setupComplete=!1,this.sessionId="",this.returnTo="",this.userId=""}setup(){this.commandSwitchboard=he.setup(),this.commandSwitchboard.displayFlash=(t,s)=>{this.displayFlash(t,s)},this.modes=Array.from(this.querySelectorAll("command-palette-mode")),this.defaultMode=this.querySelector(".js-command-palette-default-mode"),this.commandPaletteInput=this.querySelector("command-palette-input"),this.groups=this.querySelectorAll("command-palette-item-group"),this.itemStackElement=this.querySelector("command-palette-item-stack"),this.itemStackElement.getQuery=()=>this.query,this.itemStackElement.addEventListener("selectedItemChanged",t=>{if(t instanceof CustomEvent){const s=t.detail.item,r=t.detail.isDefaultSelection;this.updateTypeahead(s,r)}}),this.octicons={};const e=this.querySelector(".js-command-local-provider-octicons");if(e){const t=Array.from(e.children).map(s=>({id:s.getAttribute("data-local-provider-octicon-id"),svg:s.innerHTML}));this.cacheIcons(t)}this.commandPaletteInput.addEventListener("command-palette-input",this.onInput.bind(this)),this.commandPaletteInput.addEventListener("command-palette-select",this.onSelect.bind(this)),this.commandPaletteInput.addEventListener("command-palette-descope",this.onDescope.bind(this)),this.commandPaletteInput.addEventListener("command-palette-cleared",this.onInputClear.bind(this)),this.commandPaletteInput.addEventListener("command-palette-submenu-back",()=>{this.popSubmenu()}),this.itemStackElement.addEventListener("itemsUpdated",this.itemsUpdated.bind(this)),document.addEventListener("pjax:end",this.pjaxReset.bind(this)),this.addEventListener("keydown",this.onKeydown.bind(this)),this.defaultOpen&&(this.manualToggle(!0),this.clearReturnToParams()),this.setupComplete=!0}connectedCallback(){this.setupComplete||this.setup()}clear(e=!0){if(this.clearProviderCaches(),this.itemStackElement.clear(),e&&this.resetInput(),this.activated)return this.prefetchProviderData()}clearCommands(e=!0){if(this.clearCommandProviderCaches(),this.itemStackElement.clearItemsFor(c.commandGroupIds),e&&this.resetInput(),this.activated)return this.prefetchProviderData({providers:this.commandsProviderElements})}resetInput(){this.commandPaletteInput.value="",this.commandPaletteInput.resetScopeIfNeeded()}activate(){if(this.sessionId=this.generateSessionId(),this.commandPaletteInput.resetScopeIfNeeded(),this.commandPaletteInput.focus(),this.setActiveModeElement(),this.setQuery(),this.toggleTips(),this.prefetchProviderData(),this.updateOverlay(),this.itemStackElement.bindListeners(),this.commandPaletteInput.hasScope()){const e=new D(this.query.queryText,this.query.queryMode,{subjectId:this.query.subjectId,subjectType:this.query.subjectType,returnTo:this.query.returnTo});this.prefetchProviderData({query:e})}this.activated=!0,X("session_initiated")}deactivate(){this.activated=!1,this.itemStackElement.clearSelection(),this.itemStackElement.unbindListeners();const e=document.querySelector(".js-command-palette-dialog summary");this.previouslyActiveElement?(this.previouslyActiveElement.focus(),this.previouslyActiveElement!==document.activeElement&&e.focus()):e.focus(),X("session_terminated")}generateSessionId(){return ut(`${Date.now()}_${this.userId}_${this.query.path}`).toString()}manualToggle(e){const t=this.closest("details");e?t.open=!0:t.removeAttribute("open")}dismiss(){this.manualToggle(!1)}get subjectId(){var e;return((e=this.pjaxMeta)==null?void 0:e.getAttribute("data-subject-id"))||""}get subjectType(){var e;return((e=this.pjaxMeta)==null?void 0:e.getAttribute("data-subject-type"))||""}get pjaxMeta(){return document.querySelector(".js-command-palette-pjax-meta-data")}pjaxReset(){this.activated=!1,this.clear(!0)}onInput(){this.commandPaletteInput.typeahead="",this.setActiveModeElement(),this.setQuery(),this.activated&&this.fetchProviderData(),this.itemStackElement.updateSelectedItem(),this.toggleTips(),this.updateOverlay()}updateOverlay(){const e=this.getMode();this.commandPaletteInput.overlay=e;for(const t of this.groups)t.renderElement(e);if(e&&this.getTextWithoutMode()===""){const t=this.getModeElement().placeholder||"";this.commandPaletteInput.showModePlaceholder(t)}else this.commandPaletteInput.showModePlaceholder("")}itemsUpdated(e){if(!(e instanceof CustomEvent))return;const s=e.detail.items.filter(o=>o.group!==c.footerGroupId),r=s.filter(o=>!c.helpGroupIds.includes(o.group)),i=s.length>r.length,n=this.finishedLoading&&r.length===0&&this.activated;r.length>0?this.toggleEmptyState(!1,i):n&&(this.toggleEmptyState(!0,i),this.toggleTips()),this.toggleErrorTips()}setActiveModeElement(){const e=this.commandPaletteInput.value.substring(0,1),t=this.modes.filter(s=>s.active(this.query.scope,e)).find(s=>s.character()===e);this.activeMode=t||this.defaultMode}setQuery(){this.query=new D(this.getTextWithoutMode().trimStart(),this.getMode(),{scope:this.commandPaletteInput.scope,subjectId:this.subjectId,subjectType:this.subjectType,returnTo:this.returnTo})}getModeElement(){return this.activeMode}getMode(){return this.getModeElement().character()}getTextWithoutMode(){if(!this.commandPaletteInput)return"";const e=this.commandPaletteInput.value,t=this.getMode();return t&&e.startsWith(t)?e.substring(1):e}onSelect(e){const t=this.itemStackElement.selectedItem;t?t.item.scope?this.setScope(t.item.scope):t.item.autocomplete(this):e.preventDefault()}setScope(e){this.itemStackElement.clearSelection(),this.commandPaletteInput.value="",e&&(this.commandPaletteInput.scope=e),this.setQueryScope(),this.toggleTips(),this.prefetchProviderData()}onDescope(){if(this.commandPaletteInput.hasScope()){const t=this.commandPaletteInput.value;this.commandPaletteInput.removeToken(),this.setScope(),this.commandPaletteInput.setRemovedTokenAndSelect(t)}}onInputClear(){this.commandPaletteInput.clearScope(),this.setScope()}onKeydown(e){var t;e.key==="Enter"&&this.itemStackElement.selectedItem?((t=this.itemStackElement.selectedItem)==null||t.item.activate(this,e),e.preventDefault(),e.stopPropagation()):e.key==="ArrowDown"?(this.itemStackElement.navigate(1),e.preventDefault(),e.stopPropagation()):e.key==="ArrowUp"?(this.itemStackElement.navigate(-1),e.preventDefault(),e.stopPropagation()):this.isCopyEvent(e)&&this.itemStackElement.selectedItem&&(this.itemStackElement.selectedItem.item.copy(this),e.preventDefault(),e.stopPropagation())}toggleTips(){for(const e of this.modeTips)e.toggle(this.query);this.finishedLoading&&this.itemStackElement.setMaxHeight()}toggleEmptyState(e,t){for(const s of this.emptyStateElements)s.toggle(this.query,e);if(!t&&e){const s=this.providerElements.find(r=>r.type==="help");this.fetchProviderData([s],{isEmpty:!0})}else t&&!e&&this.itemStackElement.clearItemsFor(c.helpGroupIds);this.finishedLoading&&this.itemStackElement.setMaxHeight()}toggleErrorTips(){for(const e of this.errorStateTips)e.toggle(this.query,!1,this.error)}updateTypeahead(e,t=!1){var s,r;this.getTextWithoutMode()===""&&(!e||t)?this.commandPaletteInput.typeahead="":e&&(this.commandPaletteInput.typeahead=(r=(s=e.typeahead)!=null?s:e.title)!=null?r:"")}isCopyEvent(e){return this.commandPaletteInput.textSelected()?!1:je()?e.metaKey&&e.key==="c":e.ctrlKey&&e.key==="c"}setQueryScope(){this.query.scope=this.commandPaletteInput.scope}async prefetchProviderData(e={}){const t={query:this.query,providers:this.providerElements},s=pe(pe({},t),e);await Promise.all(Array.from(s.providers).map(async r=>{!Ie(s.query,r.scopeTypes)||(await r.prefetch(s.query.immutableCopy()),this.cacheIcons(r.octicons),await this.fetchProviderData([r],{prefillItemStack:!0}))}))}async fetchProviderData(e,t={}){var s;const i=pe(pe({},{prefillItemStack:!1,isEmpty:!1}),t),n=(s=e!=null?e:this.submenuProviderElements)!=null?s:this.providerElements;this.error=!1,await this.fetchWithSpinner(n.map(async o=>{if(!o.appliesTo(this.query))return;const h=this.query.immutableCopy(),p=await o.fetch(h,i.isEmpty);p&&(p.error&&(this.error=!0,this.toggleErrorTips()),p.octicons&&this.cacheIcons(p.octicons)),this.itemStackElement.addItems(h,p.results,i.prefillItemStack)}))}async fetchWithSpinner(e){this.requestsInProgress.push(e),this.commandPaletteInput.loading=!0,await Promise.all(e),this.requestsInProgress.splice(this.requestsInProgress.indexOf(e),1),this.commandPaletteInput.loading=this.requestsInProgress.length>0}get providerElements(){const e=this.querySelectorAll("command-palette-provider");return Array.from(e)}get commandsProviderElements(){return this.providerElements.filter(e=>e.hasCommands)}clearProviderCaches(){for(const e of this.providerElements)e.provider.clearCache()}clearCommandProviderCaches(){for(const e of this.commandsProviderElements)e.provider.clearCache()}get submenuProviderElements(){if(this.activeSubmenuElement)return Array.from(this.activeSubmenuElement.querySelectorAll("command-palette-provider"))}get submenuElements(){return this.querySelectorAll("command-palette-submenu")}get activeSubmenuElement(){const e=this.submenuElements;return e[e.length-1]}get tipElements(){const e=this.querySelectorAll("command-palette-tip");return Array.from(e)}get modeTips(){return this.tipElements.filter(e=>!e.onEmpty&&!e.onError)}get emptyStateElements(){return this.tipElements.filter(e=>e.onEmpty)}get errorStateTips(){return this.tipElements.filter(e=>e.onError)}get finishedLoading(){return this.requestsInProgress.length===0}pushSubmenu(e){this.appendChild(e),this.updateSubmenu()}popSubmenu(){this.activeSubmenuElement.remove(),this.updateSubmenu()}updateSubmenu(){if(this.activeSubmenuElement){const e=this.activeSubmenuElement;this.commandPaletteInput.placeholder=e.placeholder,this.commandPaletteInput.setSubmenuTile(e.title,this.octicons[e.iconId]),this.query.scope={id:`submenu:${e.title}`,text:"",type:"submenu",tokens:[]}}else this.commandPaletteInput.placeholder=this.placeholder,this.itemStackElement.clearSelection(),this.commandPaletteInput.clearSubmenuTile(),this.query.clearScope();this.commandPaletteInput.focus(),this.commandPaletteInput.value=""}get placeholder(){return this.getAttribute("placeholder")||""}get defaultOpen(){return this.getAttribute("data-default-open")!==null}clearReturnToParams(){const e=new URLSearchParams(location.search);e.delete("command_palette_open"),e.delete("command_query"),e.delete("command_mode"),e.delete("clear_command_scope"),history.replaceState(null,"",`?${e}${location.hash}`)}cacheIcons(e){for(const t of e)this.itemStackElement.octicons[t.id]=t.svg}async runCommand(e,t){const s={command:{name:e,id:t},context:{subject:{id:this.subjectId,type:this.subjectType}}};this.dismiss(),this.clearCommands(),await this.commandSwitchboard.runCommand(s)}displayFlash(e,t,s=!1,r=5e3){const i=document.querySelector(".js-command-palette-toasts");if(!i)return;const n=i.querySelectorAll(".Toast");for(const p of n)p.hidden=!0;const o=i.querySelector(`.Toast.Toast--${e}`);if(!o)return;const h=o.querySelector(".Toast-content");s?h.innerHTML=t:h.textContent=t,o.hidden=!1,setTimeout(()=>{o.hidden=!0},r)}};$e(T,"CommandPalette"),T.tagName="command-palette",Oe([a],T.prototype,"returnTo",2),Oe([a],T.prototype,"userId",2),T=Oe([f],T);var $t=Object.defineProperty,gr=Object.getOwnPropertyDescriptor,br=(e,t)=>$t(e,"name",{value:t,configurable:!0}),_r=(e,t,s,r)=>{for(var i=r>1?void 0:r?gr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&$t(t,s,i),i};let S=class extends c{static from({title:e,icon:t,path:s,group:r}){return new S({title:e,typeahead:e,priority:1,score:1,group:r,action:{type:"jump_to",description:"",path:s},icon:{type:"octicon",id:t}})}render(e,t){return super.render(e,t)}activate(e,t){t instanceof PointerEvent?super.activate(e,t):t instanceof KeyboardEvent&&this.activateLinkBehavior(e,t,te(t))}get activateTrackingEventType(){return this.newTabOpened?"jump_to_new_tab":"jump_to"}copy(){super.copy();const e=new URL(this.action.path,window.location.origin);this.copyToClipboardAndAnnounce(e.toString())}get key(){return`${super.key}/${this.action.path}`}get action(){return this.data.action}};br(S,"JumpToItem"),S=_r([v],S);var Ot=Object.defineProperty,Pr=Object.getOwnPropertyDescriptor,Tr=(e,t)=>Ot(e,"name",{value:t,configurable:!0}),Sr=(e,t,s,r)=>{for(var i=r>1?void 0:r?Pr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&Ot(t,s,i),i};let De=class extends S{getAvatarTemplate(e,t){return d`<img src="${e}" alt="${t}" class="avatar avatar-1 avatar-small" />`}};Tr(De,"JumpToOrgItem"),De=Sr([v],De);var jt=Object.defineProperty,Ir=Object.getOwnPropertyDescriptor,Er=(e,t)=>jt(e,"name",{value:t,configurable:!0}),Cr=(e,t,s,r)=>{for(var i=r>1?void 0:r?Ir(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&jt(t,s,i),i};let Le=class extends S{getAvatarTemplate(e,t){return d`<img src="${e}" alt="${t}" class="avatar avatar-1" />`}};Er(Le,"JumpToTeamItem"),Le=Cr([v],Le);var Dt=Object.defineProperty,wr=Object.getOwnPropertyDescriptor,xr=(e,t)=>Dt(e,"name",{value:t,configurable:!0}),$r=(e,t,s,r)=>{for(var i=r>1?void 0:r?wr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&Dt(t,s,i),i};let se=class extends S{static create(e){let t,s;if(e.scope.type==="repository")t=`in ${e.scope.text}`,s=`/${e.scope.text}/search?q=${e.text}`;else if(e.scope.type==="owner"){const r=`org:${e.scope.text} ${e.text}`;t=`in ${e.scope.text}`,s=`/search?q=${r}`}else t="across all of GitHub",s=`/search?q=${e.text}`;return new se({title:`Search ${e.text}${t}`,typeahead:"",priority:-10,score:-10,group:c.footerGroupId,action:{type:"jump_to",description:"",path:s},icon:{type:"octicon",id:"search-color-fg-muted"},titleScope:t})}constructor(e){super(e);this.titleScope=e.titleScope}render(e,t){const s=super.render(e,void 0);if(t){const r=[];r.push(document.createTextNode("Search"));const i=document.createElement("strong");i.textContent=` '${t}' `,r.push(i),r.push(document.createTextNode(this.titleScope)),s.titleNodes=r}return s}autocomplete(e){}calculateScore(e){return 0}};xr(se,"SearchLinkItem"),se=$r([v],se);var Or=Object.defineProperty,jr=(e,t)=>Or(e,"name",{value:t,configurable:!0});class w{constructor(t){this.octicons=[],this.element=t}static get providerType(){return typeof this}async prefetch(t){}clearCache(){}async fetch(t,s=!1){return{results:[]}}get src(){return this.element.src}async fetchSrc(t,s=""){var r;const i=new URL(this.src,window.location.origin),n=t.params();s&&n.set("mode",s),i.search=n.toString();const o=await fetch(i.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(o.ok){const h=await o.json();return{results:((r=h.results)==null?void 0:r.map(p=>c.build(p)))||[],octicons:h.octicons}}else return{error:!0,results:[]}}get commandPalette(){return this.element.closest("command-palette")}fuzzyFilter(t,s,r=0){const i=[];for(const n of t)n.calculateScore(s.text)>r&&i.push(n);return i}empty(){return{results:[]}}}jr(w,"Provider");var Lt=Object.defineProperty,Dr=Object.getOwnPropertyDescriptor,Lr=(e,t)=>Lt(e,"name",{value:t,configurable:!0}),Mr=(e,t,s,r)=>{for(var i=r>1?void 0:r?Dr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&Lt(t,s,i),i};let de=class extends w{constructor(){super(...arguments);this.items=[]}async fetch(e,t=!1){return e.isBlank()?{results:this.items.slice(0,10)}:{results:this.fuzzyFilter(this.items,e)}}};Lr(de,"StaticProvider"),de=Mr([I],de);var Mt=Object.defineProperty,Ar=Object.getOwnPropertyDescriptor,qr=(e,t)=>Mt(e,"name",{value:t,configurable:!0}),me=(e,t,s,r)=>{for(var i=r>1?void 0:r?Ar(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&Mt(t,s,i),i};let B=class extends HTMLElement{constructor(){super(...arguments);this.items=[]}static buildElement(e){const t=document.createElement("command-palette-submenu");t.title=e.title,t.iconId=e.iconId,t.placeholder=e.placeholder;for(const s of e.providers){const r=document.createElement("command-palette-provider");r.type=s.type,s.src&&(r.src=s.src),s.debounce&&(r.debounce=s.debounce),r.provider instanceof de&&s.items&&(r.provider.items=s.items),t.appendChild(r)}return t}};qr(B,"CommandPaletteSubmenuElement"),me([a],B.prototype,"title",2),me([a],B.prototype,"iconId",2),me([a],B.prototype,"placeholder",2),B=me([f],B);var At=Object.defineProperty,kr=Object.getOwnPropertyDescriptor,Hr=(e,t)=>At(e,"name",{value:t,configurable:!0}),Br=(e,t,s,r)=>{for(var i=r>1?void 0:r?kr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&At(t,s,i),i};let re=class extends c{render(e,t){return super.render(e,t)}activate(e){super.activate(e);const t=B.buildElement(this.action);e.pushSubmenu(t)}get activateTrackingEventType(){return"submenu_selected"}get key(){return`${super.key}/${JSON.stringify(this.action)}`}get action(){return this.data.action}};Hr(re,"SubmenuItem"),re.actionType="submenu",re=Br([v],re);var qt=Object.defineProperty,Fr=Object.getOwnPropertyDescriptor,Gr=(e,t)=>qt(e,"name",{value:t,configurable:!0}),Rr=(e,t,s,r)=>{for(var i=r>1?void 0:r?Fr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&qt(t,s,i),i};let fe=class extends c{render(e){return super.render(e,this.data.typeahead)}activate(e,t){t instanceof PointerEvent?super.activate(e,t):t instanceof KeyboardEvent&&this.activateLinkBehavior(e,t,te(t))}get activateTrackingEventType(){return"access_policy_executed"}get action(){return this.data.action}get key(){return this.data.title}getHint(){return d``}};Gr(fe,"AccessPolicyItem"),fe=Rr([v],fe);var kt=Object.defineProperty,Nr=Object.getOwnPropertyDescriptor,Wr=(e,t)=>kt(e,"name",{value:t,configurable:!0}),Ur=(e,t,s,r)=>{for(var i=r>1?void 0:r?Nr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&kt(t,s,i),i};let Me=class extends w{async fetch(e,t=!1){const s="Switch color mode",r=new re({title:s,priority:1,score:1,group:"commands",action:{type:"submenu",description:s,providers:[{type:"static",items:[H.from("Light","light"),H.from("Dark","dark"),H.from("Dark dimmed","dark_dimmed")]}],title:s,placeholder:"Choose a theme",iconId:"moon-color-fg-muted",path:""},icon:{type:"octicon",id:"moon-color-fg-muted"}});return e.isPresent()?{results:[r].filter(n=>n.title.match(new RegExp(e.text,"i")))}:{results:[r]}}};Wr(Me,"ColorModesProvider"),Me=Ur([I],Me);var Ht=Object.defineProperty,Kr=Object.getOwnPropertyDescriptor,zr=(e,t)=>Ht(e,"name",{value:t,configurable:!0}),Qr=(e,t,s,r)=>{for(var i=r>1?void 0:r?Kr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&Ht(t,s,i),i};let ve=class extends w{constructor(){super(...arguments);this.maxItems=1e3,this.scopedItems={}}get mode(){return this.element.mode}clearCache(){super.clearCache(),this.scopedItems={}}async prefetch(e){if(this.scopedItems[e.scope.id])return;const t=new D("",this.mode,{subjectId:e.subjectId,subjectType:e.subjectType,returnTo:e.returnTo,scope:e.scope}),s=await this.fetchSrc(t,this.mode);this.octicons=s.octicons||[];const r=s.results||[];this.scopedItems[e.scope.id]=r}async fetch(e,t=!1){const s=this.scopedItems[e.scope.id]||[];return e.isBlank()?{results:s.slice(0,this.maxItems)}:{results:this.fuzzyFilter(s,e).slice(0,this.maxItems)}}};zr(ve,"PrefetchedProvider"),ve=Qr([I],ve);var Bt=Object.defineProperty,Jr=Object.getOwnPropertyDescriptor,Xr=(e,t)=>Bt(e,"name",{value:t,configurable:!0}),Vr=(e,t,s,r)=>{for(var i=r>1?void 0:r?Jr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&Bt(t,s,i),i};let Ae=class extends ve{async fetchSrc(e){const t=new URL(this.src,window.location.origin);t.search=e.params().toString();const r=await(await fetch(t.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json(),i=r.results[0];if(i.base_file_path){const n=i.base_file_path,o=i.paths;r.results=o.map(h=>S.from({title:h,path:`${n}/${h}`,icon:"file-color-fg-muted",group:"files"}))}else i.action&&i.action.type==="access_policy"?r.results=[new fe(i)]:r.results=[];return r}async fetch(e,t=!1){const s=e.text.match(/(.+):(\d*)\s*$/);return s?this.fetchWithLineNumbers(e,s):super.fetch(e,t)}async fetchWithLineNumbers(e,t){const s=t[1],r=t[2],i=new D(s,e.mode,{scope:e.scope}),n=[],o=(await super.fetch(i)).results;for(const h of o)h instanceof S&&n.push(this.convert(h,r));return{results:n}}convert(e,t){if(t===""||!(e instanceof S))return e;const s=JSON.parse(JSON.stringify(e.data));return s.title=`${s.title}:${t}`,s.action.path=`${s.action.path}#L${t}`,new S(s)}};Xr(Ae,"FilesProvider"),Ae=Vr([I],Ae);var Ft=Object.defineProperty,Yr=Object.getOwnPropertyDescriptor,Zr=(e,t)=>Ft(e,"name",{value:t,configurable:!0}),ei=(e,t,s,r)=>{for(var i=r>1?void 0:r?Yr(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&Ft(t,s,i),i};let qe=class extends w{async fetch(e,t=!1){return e.isBlank()||e.mode==="?"?{results:[]}:{results:[se.create(e)]}}};Zr(qe,"SearchLinksProvider"),qe=ei([I],qe);var Gt=Object.defineProperty,ti=Object.getOwnPropertyDescriptor,si=(e,t)=>Gt(e,"name",{value:t,configurable:!0}),ri=(e,t,s,r)=>{for(var i=r>1?void 0:r?ti(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&Gt(t,s,i),i};let ie=class extends c{static from(e){return new ie({title:e.title,subtitle:e.subtitle,typeahead:e.title,priority:11,score:1,group:"commands",action:{type:"main_window_command",command:e,path:""},icon:{type:"octicon",id:e.icon},hint:"Run command"})}activate(e){super.activate(e),this.command.run(e),e.clearProviderCaches(),e.dismiss(),e.itemStackElement.clear(),e.commandPaletteInput.value=""}get activateTrackingEventType(){return"command_executed"}isApplicable(e){return this.command.isApplicable(e)}select(){this.command.select()}deselect(){this.command.deselect()}get command(){return this.action.command}get action(){return this.data.action}};si(ie,"MainWindowCommandItem"),ie=ri([v],ie);var ii=Object.defineProperty,ni=(e,t)=>ii(e,"name",{value:t,configurable:!0});class u{static get item(){return ie.from(new this)}run(t){}isApplicable(t){return!0}select(){}deselect(){}}ni(u,"MainWindowCommand");var oi=Object.defineProperty,ye=(e,t)=>oi(e,"name",{value:t,configurable:!0});class Rt extends u{constructor(){super(...arguments);this.title="Delete discussion\u2026",this.icon="trash-color-fg-muted"}fetchDetails(){return document.querySelector("details.js-delete-discussion-details")}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}run(){const t=this.fetchDetails();t&&(t.open=!0,setTimeout(()=>{var s;(s=t==null?void 0:t.querySelector('button[type="submit"]'))==null||s.focus()},0))}}ye(Rt,"DeleteDiscussion");class Nt extends u{constructor(){super(...arguments);this.title="Edit discussion body",this.icon="pencil-color-fg-muted"}get editButton(){return document.querySelector(".js-discussions-comment-edit-button")}isApplicable(){return this.editButton!=null}run(){var t;(t=this.editButton)==null||t.click()}}ye(Nt,"EditDiscussion");class Wt extends u{constructor(){super(...arguments);this.title="Transfer discussion\u2026",this.icon="arrow-right-color-fg-muted"}fetchDetails(){return document.querySelector("details.js-transfer-discussion-details")}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}run(){var t;const s=this.fetchDetails();if(s){const r=ye(()=>{setTimeout(()=>{var i;(i=s==null?void 0:s.querySelector("[data-menu-button]"))==null||i.focus()},0)},"focusMenu");(t=s.querySelector("include-fragment"))==null||t.addEventListener("load",r),s.open=!0,r()}}}ye(Wt,"TransferDiscussion");var ai=[Rt,Wt,Nt],ci=Object.defineProperty,F=(e,t)=>ci(e,"name",{value:t,configurable:!0});class Ut extends u{constructor(){super(...arguments);this.title="Open in github.dev editor",this.icon="codespaces-color-fg-muted"}isApplicable(){return this.fetchLink()instanceof HTMLAnchorElement}fetchLink(){return document.querySelector(".js-github-dev-shortcut")}run(){var t;(t=this.fetchLink())==null||t.click()}}F(Ut,"OpenInDotDev");class Q extends u{constructor(){super(...arguments);this.title="Switch theme to default dark",this.icon="moon-color-fg-muted",this.mode="dark",this.theme="dark"}select(){this.loadStyles(this.theme)}applyTheme(){this.loadStyles(this.theme),this.mode!=="auto"&&W(this.theme,this.mode),Te(this.mode)}async run(){this.applyTheme(),this.saveSettings(this.mode,this.lightTheme,this.darkTheme)}async saveSettings(t=this.mode,s,r){const i=document.querySelector(".js-color-mode-csrf").value,n=document.querySelector(".js-color-mode-path").value,o=new FormData;o.set("color_mode",t),s&&o.set("light_theme",s),r&&o.set("dark_theme",r);const p=await(await fetch(n,{method:"PUT",body:o,mode:"same-origin",headers:{"Scoped-CSRF-Token":i,"X-Requested-With":"XMLHttpRequest"}})).json();this.loadStyles(p.light_theme),this.loadStyles(p.dark_theme),W(p.light_theme,"light"),W(p.dark_theme,"dark"),Te(p.color_mode)}loadStyles(t){const s=document.querySelector(`link[data-color-theme='${t}']`);s&&s.hasAttribute("data-href")&&!s.hasAttribute("href")&&s.setAttribute("href",s.getAttribute("data-href"))}get darkTheme(){return this.mode==="dark"?this.theme:ce("dark")}get lightTheme(){return this.mode==="light"?this.theme:ce("light")}}F(Q,"SwitchToDark");class Kt extends Q{constructor(){super(...arguments);this.title="Switch theme to dark high contrast",this.theme="dark_high_contrast"}}F(Kt,"SwitchToDarkHighConstrast");class zt extends Q{constructor(){super(...arguments);this.title="Switch theme to dark dimmed",this.theme="dark_dimmed"}}F(zt,"SwitchToDarkDimmed");class Qt extends Q{constructor(){super(...arguments);this.title="Switch theme to default light",this.icon="sun-color-fg-muted",this.mode="light",this.theme="light"}}F(Qt,"SwitchToLight");class Jt extends Q{constructor(){super(...arguments);this.title="Switch theme settings to sync with system",this.icon="sun-color-fg-muted",this.mode="auto"}get darkTheme(){}get lightTheme(){}}F(Jt,"SwitchToAuto");class Xt extends u{constructor(){super();const t=this.isSubscribe();this.title=`${t?"Subscribe":"Unsubscribe"}`,this.icon=`${t?"bell":"bell-slash"}-color-fg-muted`}isApplicable(){var t;return this.fetchButton()instanceof HTMLButtonElement&&((t=this.fetchButton())==null?void 0:t.disabled)===!1}isSubscribe(){var t,s;return((s=(t=this.fetchButton())==null?void 0:t.textContent)==null?void 0:s.trim())==="Subscribe"}fetchButton(){return document.querySelector(".thread-subscribe-button")}run(){var t;(t=this.fetchButton())==null||t.click()}}F(Xt,"UpdateSubscription");var li=[Ut,Qt,Q,zt,Kt,Jt,Xt],ui=Object.defineProperty,x=(e,t)=>ui(e,"name",{value:t,configurable:!0});function ke(e){e.focus(),e.selectionStart=e.selectionEnd=e.value.length}x(ke,"moveCursorToEnd");class He extends u{constructor(){super(...arguments);this.title="Edit issue body",this.icon="pencil-color-fg-muted"}run(){const t=document.createElement("button");t.hidden=!0,t.classList.add("js-comment-edit-button");const s=document.querySelector("div.js-comment");s==null||s.appendChild(t),t.click(),t.remove(),setTimeout(()=>{var r;const i=(r=s==null?void 0:s.parentElement)==null?void 0:r.querySelector("textarea.js-comment-field");i&&ke(i)},0)}}x(He,"EditIssueBody");class Be extends u{constructor(){super(...arguments);this.title="Edit issue title",this.icon="pencil-color-fg-muted"}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement}fetchButton(){return document.querySelector(".js-title-edit-button")}run(){var t;(t=this.fetchButton())==null||t.click(),setTimeout(()=>{const s=document.querySelector("input#issue_title[autofocus]");s&&ke(s)},0)}}x(Be,"EditIssueTitle");class Vt extends u{constructor(){super(...arguments);this.title="Transfer issue\u2026",this.icon="arrow-right-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-transfer-issue")}run(){var t;const s=this.fetchDetails();if(s){const r=x(()=>{setTimeout(()=>{var i;(i=s.querySelector("[data-menu-button]"))==null||i.focus()},0)},"focusMenu");(t=s.querySelector("include-fragment"))==null||t.addEventListener("load",r),s.open=!0,r()}}}x(Vt,"TransferIssue");class Yt extends u{constructor(){super();const t=this.isLock();this.title=`${t?"Lock":"Unlock"} issue`,this.icon=`${t?"lock":"key"}-color-fg-muted`}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}isLock(){var t,s;return((s=(t=document.querySelector("summary.lock-toggle-link"))==null?void 0:t.textContent)==null?void 0:s.trim())==="Lock conversation"}fetchDetails(){return document.querySelector("details.js-lock-issue")}run(){const t=this.fetchDetails();t&&(t.open=!0,setTimeout(()=>{var s;(s=document.querySelector("#unlock-reason"))==null||s.focus()},0))}}x(Yt,"LockIssue");class Zt extends u{constructor(){super(...arguments);this.title="Delete issue\u2026",this.icon="trash-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-delete-issue")}run(){const t=this.fetchDetails();t&&(t.open=!0,setTimeout(()=>{var s;(s=t.querySelector('button[type="submit"]'))==null||s.focus()},0))}}x(Zt,"DeleteIssue");class es extends u{constructor(){super(...arguments);this.title="Convert issue to discussion\u2026",this.icon="comment-discussion-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-convert-to-discussion")}run(){var t;const s=this.fetchDetails();if(s){const r=x(()=>{setTimeout(()=>{var i;(i=s.querySelector("[data-menu-button]"))==null||i.focus()},0)},"focusMenu");(t=s.querySelector("include-fragment"))==null||t.addEventListener("load",r),s.open=!0,r()}}}x(es,"ConvertToDiscussion");var hi=[Be,He,Yt,Vt,Zt,es],pi=Object.defineProperty,di=(e,t)=>pi(e,"name",{value:t,configurable:!0});class Fe extends u{constructor(){super(...arguments);this.title="Open in new codespace",this.icon="codespaces-color-fg-muted"}isApplicable(){const t=this.fetchElements();return!!(t.codeModal&&t.codespacesForm&&t.newCodespacesButton&&t.codespacesTab)}run(){const{codeModal:t,codespacesTab:s,newCodespacesButton:r}=this.fetchElements();!(t&&s&&r)||(t.open=!0,s.click(),r instanceof HTMLButtonElement?r.click():(r.parentElement.open=!0,setTimeout(()=>{var i;(i=document.querySelector(".js-create-codespace-with-sku-button"))==null||i.focus()},0)))}fetchElements(){const t=document.querySelector(".js-create-codespaces-form-command"),s=(t==null?void 0:t.closest("details"))||null,r=(s==null?void 0:s.querySelector('[data-tab="cloud"]'))||null,i=(t==null?void 0:t.querySelector('summary[role="button"], button[type="submit"]'))||null;return{codespacesForm:t,codeModal:s,codespacesTab:r,newCodespacesButton:i}}}di(Fe,"OpenCodespace");var mi=Object.defineProperty,ne=(e,t)=>mi(e,"name",{value:t,configurable:!0});class ts extends He{constructor(){super(...arguments);this.title="Edit pull request body"}}ne(ts,"EditPullRequestBody");class ss extends Be{constructor(){super(...arguments);this.title="Edit pull request title"}}ne(ss,"EditPullRequestTitle");class rs extends u{constructor(){super(...arguments);this.title="Update current branch",this.icon="sync-color-fg-muted"}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement}fetchButton(){return document.querySelector(".js-update-branch-form button")}run(){const t=this.fetchButton();t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.click())}}ne(rs,"UpdateBranch");class is extends u{constructor(){super(...arguments);this.title="Convert to draft",this.icon="git-pull-request-draft-color-fg-muted"}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement}fetchButton(){return document.querySelector(".js-convert-to-draft")}run(){var t;const s=(t=this.fetchButton())==null?void 0:t.closest("details");s&&(s.open=!0,setTimeout(()=>{var r;(r=s.querySelector(".js-convert-to-draft"))==null||r.focus()},0))}}ne(is,"ConvertToDraft");class ns extends u{constructor(){super(...arguments);this.title="Copy current branch name",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchClipboardCopy()instanceof E}fetchClipboardCopy(){return document.querySelector(".js-copy-branch")}async run(t){const s=this.fetchClipboardCopy();if(s instanceof E){const r=s.value;try{await O(r),t.displayFlash("success","Branch name copied to clipboard!")}catch(i){t.displayFlash("error","Unable to copy branch name to clipboard!")}}}}ne(ns,"CopyBranchName");var fi=[ns,ss,ts,rs,is,Fe],vi=Object.defineProperty,ge=(e,t)=>vi(e,"name",{value:t,configurable:!0});class os extends u{constructor(){super(...arguments);this.title="Copy file permalink",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchPermalinkContainer()instanceof HTMLAnchorElement}fetchPermalinkContainer(){return document.querySelector(".js-permalink-shortcut")}async run(t){const s=this.fetchPermalinkContainer();if(s){const r=`${s.href}${window.location.hash}`;try{await O(r),t.displayFlash("success","Copied permalink!")}catch(i){t.displayFlash("error","Failed to copy permalink!")}}}}ge(os,"CopyPermalink");class as extends u{constructor(){super(...arguments);this.title="Clone repository: Copy HTTPS",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchClipboardCopy()instanceof E}fetchClipboardCopy(){return document.querySelector(".js-clone-url-http")}async run(t){const s=this.fetchClipboardCopy();if(s instanceof E){const r=s.value;try{await O(r),t.displayFlash("success","Clone URL copied!")}catch(i){t.displayFlash("error","Clone URL couldn't be copied")}}}}ge(as,"CloneCopyHttps");class cs extends u{constructor(){super(...arguments);this.title="Clone repository: Copy SSH",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchClipboardCopy()instanceof E}fetchClipboardCopy(){return document.querySelector(".js-clone-url-ssh")}async run(t){const s=this.fetchClipboardCopy();if(s instanceof E){const r=s.value;try{await O(r),t.displayFlash("success","Clone URL copied!")}catch(i){t.displayFlash("error","Clone URL couldn't be copied")}}}}ge(cs,"CloneCopySsh");class ls extends u{constructor(){super(...arguments);this.title="Clone repository: Copy GitHub CLI",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchClipboardCopy()instanceof E}fetchClipboardCopy(){return document.querySelector(".js-clone-url-gh-cli")}async run(t){const s=this.fetchClipboardCopy();if(s instanceof E){const r=s.value;try{await O(r),t.displayFlash("success","Clone URL copied!")}catch(i){t.displayFlash("error","Clone URL couldn't be copied")}}}}ge(ls,"CloneCopyCli");var yi=[as,cs,ls,os,Fe],us=Object.defineProperty,gi=Object.getOwnPropertyDescriptor,bi=(e,t)=>us(e,"name",{value:t,configurable:!0}),_i=(e,t,s,r)=>{for(var i=r>1?void 0:r?gi(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&us(t,s,i),i};let Ge=class extends w{constructor(){super(...arguments);this.itemsByType={},this.everywhereItems=[],this.needsFetch=!0}async fetch(e,t=!1){var s;this.loadCommandItems();const r=this.itemsForSubjectType((s=e.subjectType)!=null?s:"");return{results:(e.isBlank()?r:this.fuzzyFilter(r,e)).filter(o=>o.isApplicable(e))}}itemsForSubjectType(e){var t;return[...(t=this.itemsByType[e])!=null?t:[],...this.everywhereItems]}loadCommandItems(){this.needsFetch&&(this.itemsByType={Issue:hi.map(e=>e.item),PullRequest:fi.map(e=>e.item),Repository:yi.map(e=>e.item),Discussion:ai.map(e=>e.item)},this.everywhereItems=li.map(e=>e.item),this.needsFetch=!1)}clearCache(){this.needsFetch=!0}};bi(Ge,"MainWindowCommandsProvider"),Ge=_i([I],Ge);var hs=Object.defineProperty,Pi=Object.getOwnPropertyDescriptor,Ti=(e,t)=>hs(e,"name",{value:t,configurable:!0}),Si=(e,t,s,r)=>{for(var i=r>1?void 0:r?Pi(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&hs(t,s,i),i};let G=class extends c{static from(e,t){return new G({title:e,typeahead:"",priority:1,score:1,group:"commands",hint:d`<span><span class="mr-2">🚀</span>Coming soon!</span>`,action:{type:"disabled_item",path:""},icon:{type:"octicon",id:t}})}render(){const e=super.render(!1,"");return e.titleElement.classList.remove("color-fg-default"),e.titleElement.classList.add("color-fg-muted"),e}select(e){e.containerElement.classList.remove("color-bg-subtle"),e.hintText.hidden=!1}get action(){return{}}get key(){return`${super.key}/${this.data.title}`}};Ti(G,"DisabledItem"),G=Si([v],G);var ps=Object.defineProperty,Ii=Object.getOwnPropertyDescriptor,Ei=(e,t)=>ps(e,"name",{value:t,configurable:!0}),Ci=(e,t,s,r)=>{for(var i=r>1?void 0:r?Ii(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&ps(t,s,i),i};let Re=class extends w{async prefetch(){}async fetch(){return{results:[G.from("Switch theme","sun-color-fg-muted"),G.from("Switch account","person-color-fg-muted"),G.from("Create issue","issue-opened-color-fg-muted")]}}};Ei(Re,"TeaserCommandsProvider"),Re=Ci([I],Re);var ds=Object.defineProperty,wi=Object.getOwnPropertyDescriptor,xi=(e,t)=>ds(e,"name",{value:t,configurable:!0}),$i=(e,t,s,r)=>{for(var i=r>1?void 0:r?wi(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&ds(t,s,i),i};let Ne=class extends w{async fetch(e,t=!1){return this.fetchSrc(e)}};xi(Ne,"RemoteProvider"),Ne=$i([I],Ne);var ms=Object.defineProperty,Oi=Object.getOwnPropertyDescriptor,ji=(e,t)=>ms(e,"name",{value:t,configurable:!0}),Di=(e,t,s,r)=>{for(var i=r>1?void 0:r?Oi(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&ms(t,s,i),i};let We=class extends w{async fetch(e,t=!1){return e.mode==="?"||t?{results:Array.from(this.element.querySelectorAll("command-palette-help")).filter(i=>i.show(e)).map((i,n)=>i.toItem(n))}:{results:[]}}};ji(We,"HelpProvider"),We=Di([I],We);var fs=Object.defineProperty,Li=Object.getOwnPropertyDescriptor,vs=(e,t)=>fs(e,"name",{value:t,configurable:!0}),Mi=(e,t,s,r)=>{for(var i=r>1?void 0:r?Li(t,s):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(i=(r?o(t,s,i):o(i))||i);return r&&i&&fs(t,s,i),i};let oe=class extends HTMLElement{constructor(){super(...arguments);this.setupComplete=!1,this.connected=!1}static get observedAttributes(){return["value","typeahead","scope"]}setup(){this.classList.add("d-flex","flex-items-center","flex-nowrap","py-1","pl-3","pr-2","border-bottom"),this._renderElement(),this.onInputBound=this.onInput.bind(this),this.onKeydownBound=this.onKeydown.bind(this),this.onClearBound=this.onClear.bind(this);const e=this.querySelector("command-palette-scope");e?this.scopeElement=e:(this.scopeElement=new y,this.scopeElement.hidden=!0,this.prepend(this.scopeElement)),this.defaultScope=this.scope,this.input=this.querySelector("input.js-input"),this.overlayInput=this.querySelector("input.js-overlay-input"),this.clearButton=this.querySelector(".js-clear"),this.submenuTile=this.querySelector(".js-submenu-tile"),this.submenuBack=this.querySelector(".js-submenu-back"),this.spinner=this.querySelector(".js-spinner"),this.hasAttribute("autofocus")&&this.input.focus(),this.input.addEventListener("input",this.onInputBound),this.input.addEventListener("keydown",this.onKeydownBound),this.clearButton.addEventListener("click",this.onClearBound),this.clearButton.addEventListener("keydown",t=>{t.key==="Enter"&&this.onClearBound(t)}),this.spinner.hidden=!0,this.clearButton.hidden=!0,this.submenuBack.addEventListener("keydown",t=>{t.key==="Enter"&&(this._dispatchEvent("command-palette-submenu-back"),t.preventDefault(),t.stopPropagation())}),this.submenuBack.addEventListener("click",t=>{this._dispatchEvent("command-palette-submenu-back"),t.preventDefault(),t.stopPropagation()}),this.scopeElement.addEventListener("click",()=>{this._dispatchEvent("command-palette-descope")}),this.value.length!==0&&this._dispatchEvent("command-palette-input"),this.setupComplete=!0}connectedCallback(){this.setupComplete||this.setup(),this.value=this.getAttribute("value")||"",this.typeahead=this.getAttribute("typeahead")||"",this.placeholder=this.getAttribute("placeholder")||"",this.connected=!0}attributeChangedCallback(e,t,s){!this.input||(e==="typeahead"?this.typeahead=s:e==="value"&&(this.value=s,this._dispatchEvent("command-palette-input")))}focus(){this.input.focus()}setRemovedTokenAndSelect(e){e?this.value=e:this.value=this.scopeElement.lastRemovedToken.value,this.focus(),this.input.select()}get scope(){return this.scopeElement.scope}set scope(e){this.scopeElement.scope=e}hasScope(){return this.scopeElement.hasScope()}clearScope(){return this.scopeElement.clearScope()}removeToken(){return this.scopeElement.removeToken()}get placeholder(){return this.input.getAttribute("placeholder")||""}set placeholder(e){this.input.setAttribute("placeholder",e)}get typeaheadPlaceholder(){var e;return((e=N(this,"typeaheadPlaceholder"))==null?void 0:e.textContent)||""}set typeaheadPlaceholder(e){const t=N(this,"typeaheadPlaceholder");t.textContent=e}get value(){var e;return((e=this.input)==null?void 0:e.value)||""}set value(e){this.input.value=e,this.typeahead=e,this.resetPlaceholder(),this.onInput()}get overlay(){return this.overlayInput.value}set overlay(e){this.overlayInput.value=e}set mirror(e){const t=N(this,"mirror");t.textContent=e}get typeaheadText(){return N(this,"typeaheadText").textContent||""}set typeaheadText(e){const t=N(this,"typeaheadText");t.textContent=e}get typeahead(){return this.typeaheadValue}set typeahead(e){if(this.typeaheadValue=this.overlay+e,this.mirror=this.value,e==="")this.typeaheadText="";else if(this.placeholder="",this.typeaheadPlaceholder="",this.valueStartsWithTypeahead){const t=this.value.length-(this.overlay?1:0);this.typeaheadText=e.substring(t)}else this.typeaheadText=` \u2013 ${e}`}showModePlaceholder(e=""){this.typeaheadPlaceholder=e}get valueStartsWithTypeahead(){return this.typeaheadValue.toLowerCase().startsWith(this.value.toLowerCase())}get isCursorAtEnd(){return this.value.length===this.input.selectionStart}set loading(e){this.spinner.hidden=!e}resetScopeIfNeeded(){this.value===""&&this.scope.id!==this.defaultScope.id&&(this.scope=this.defaultScope)}resetPlaceholder(){this.value.replace(this.overlay,"")&&this.overlay&&(this.typeaheadPlaceholder=""),this.placeholder=this.getAttribute("placeholder")||""}onInput(){this.resetPlaceholder(),this.clearButton.hidden=!this.hasSomethingToClear(),!!this.connected&&this._dispatchEvent("command-palette-input")}onClear(){this.value="",this.input.focus(),this._dispatchEvent("command-palette-cleared")}onKeydown(e){if(this.isSelectKeystroke(e.key)&&(this._dispatchEvent("command-palette-select"),e.stopImmediatePropagation(),e.preventDefault()),this.hasSomethingToClear()&&te(e)&&e.key==="Backspace"){this.onClear();return}if(this.input.selectionStart===0&&this.input.selectionEnd===0&&this.hasScope()&&e.key==="Backspace"){this._dispatchEvent("command-palette-descope"),e.stopImmediatePropagation(),e.preventDefault();return}}hasSomethingToClear(){return this.scopeElement.hasScope()||this.value.length>0}isSelectKeystroke(e){return e==="Tab"||e==="ArrowRight"&&this.isCursorAtEnd}textSelected(){return this.input.selectionStart!==this.input.selectionEnd}setSubmenuTile(e,t){var s;if(this.hasSubmenuTile()?(s=this.submenuTile.querySelector("svg"))==null||s.remove():(this.submenuBack.hidden=!1,this.submenuTile.hidden=!1,this.submenuTile.classList.remove("anim-fade-down"),this.submenuTile.classList.add("anim-fade-up")),this.submenuTile.querySelector(".js-submenu-tile-title").textContent=e,t){const r=document.createElement("div");r.innerHTML=t,this.submenuTile.prepend(r.children[0])}}clearSubmenuTile(){this.submenuTile.classList.remove("anim-fade-up"),this.submenuTile.classList.add("anim-fade-down"),this.submenuBack.hidden=!0,setTimeout(()=>{var e;this.submenuTile.hidden=!0,(e=this.submenuTile.querySelector("svg"))==null||e.remove()},300)}hasSubmenuTile(){return!(this.submenuBack.hidden&&this.submenuTile.hidden)}_dispatchEvent(e){const t=new CustomEvent(e,{cancelable:!0,detail:{typeahead:this.typeahead,value:this.value}});return this.dispatchEvent(t)}_renderElement(){const t=`${je()?"\u2318":"Ctrl"} + Backspace`;R(vs(()=>d`
        <div
          class="js-submenu-tile anim-fade-up position-absolute px-2 py-2 pr-3 f6 text-semibold color-fg-default color-bg-default rounded-3 border d-flex flex-items-center"
          style="z-index: -100; top: -40px; left: 0; animation-delay: 0s"
          hidden
        >
          <span class="js-submenu-tile-title ml-1"></span>
        </div>
        <div
          class="js-submenu-back border circle p-1 mr-1 cursor-pointer flex-self-center"
          style="height: 26px"
          tabindex="0"
          hidden
        >
          <svg
            class="octicon color-fg-default v-align-baseline"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            width="16"
            height="16"
          >
            <path
              fill-rule="evenodd"
              d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"
            ></path>
          </svg>
        </div>
        <div class="command-palette-input-group flex-1 form-control border-0 box-shadow-none" style="z-index: 0">
          <div class="command-palette-typeahead position-absolute d-flex flex-items-center Truncate">
            <span class="typeahead-segment input-mirror" data-target="command-palette-input.mirror"></span>
            <span class="Truncate-text" data-target="command-palette-input.typeaheadText"></span>
            <span class="typeahead-segment" data-target="command-palette-input.typeaheadPlaceholder"></span>
          </div>
          <input
            class="js-overlay-input color-fg-muted typeahead-input form-control border-0 box-shadow-none input-block width-full position-absolute"
            style="background-color: transparent; pointer-events: none; padding: inherit;"
            disabled
            tabindex="-1"
            aria-label="Color overlay"
          />
          <input
            type="text"
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
            class="js-input typeahead-input form-control border-0 box-shadow-none input-block width-full"
            aria-label="Command palette input"
            aria-haspopup="listbox"
            aria-expanded="false"
            aria-autocomplete="list"
            aria-controls="command-palette-item-stack"
            role="combobox"
          />
        </div>
        <div class="js-spinner d-flex flex-items-center px-2 color-fg-muted">
          <svg class="anim-rotate" viewBox="0 0 16 16" fill="none" width="16" height="16">
            <circle
              cx="8"
              cy="8"
              r="7"
              stroke="currentColor"
              stroke-opacity="0.25"
              stroke-width="2"
              vector-effect="non-scaling-stroke"
            ></circle>
            <path
              d="M15 8a7.002 7.002 0 00-7-7"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              vector-effect="non-scaling-stroke"
            ></path>
          </svg>
        </div>
        <button
          class="js-clear btn-link color-fg-muted no-underline px-2 tooltipped tooltipped-w"
          role="button"
          tabindex="0"
          aria-label="${t}"
        >
          Clear
        </button>
      `,"inputTemplate")(),this)}};vs(oe,"CommandPaletteInputElement"),oe.tagName="command-palette-input",oe=Mi([f],oe);var Ai=Object.defineProperty,$=(e,t)=>Ai(e,"name",{value:t,configurable:!0});window.customElements.get(T.tagName)||window.customElements.define(T.tagName,T);const qi=ae(()=>{const e=be();!e||e.clearCommands(!1)},1500);function ys(){const e=be();if(!e)return;const t=e.closest(".js-command-palette-dialog");!t||(t.addEventListener("toggle",()=>{t.open?e.activate():e.deactivate()}),document.addEventListener("keydown",gs),Xe(".js-socket-channel.js-updatable-content",{subscribe:s=>et(s,"socket:message",qi)}))}$(ys,"observeCommandPalette");function be(){return document.querySelector(T.tagName)}$(be,"findCommandPalette");function gs(e){if(te(e)&&(e.key.toLowerCase()==="k"||e.key==="\u02DA")){if(Ue()||!e.shiftKey&&!e.altKey&&bs(e))return;Ke(e.shiftKey),e.preventDefault(),e.stopPropagation()}else if(te(e)&&e.key.toLowerCase()==="p"&&Ue()){const t=be();t&&t.hasAttribute("data-memex-hotkey-enabled")&&(Ke(e.shiftKey),e.preventDefault(),e.stopPropagation())}}$(gs,"handleKeyDown");function bs(e){return _s(e)||Ps(e)}$(bs,"shouldIgnoreCommandK");function _s(e){const t=e.target;return t?t.closest(".js-previewable-comment-form")!==null:!1}$(_s,"triggeredInsideAPreviewableCommentForm");function Ps(e){const t=e.target;if(!t)return!1;const s=t.closest(".js-code-editor");if(!s)return!1;const r=tt(s);if(!r)return!1;const i=r.editor;if(!i)return!1;const n=i.getMode().name;return n==="gfm"||n==="markdown"}$(Ps,"triggeredInsideAMarkdownCodeEditor");function Ue(){return!!document.querySelector("#memex-root")}$(Ue,"triggeredInsideMemex");function Ke(e){for(const t of document.querySelectorAll(".js-command-palette-dialog")){const s=t.querySelector(oe.tagName);if(!s)return;if(t.open)t.open=!1;else{Ts(s,e);const r=t.querySelector(T.tagName);r&&(r.previouslyActiveElement=document.activeElement),t.open=!0}}}$(Ke,"toggleCommandPalette");function Ts(e,t){const s=e.value.startsWith(">");return t&&!s?(e.value=`>${e.value}`,!0):!t&&s?(e.value=e.value.substring(1),!0):!1}$(Ts,"toggleCommandMode"),ys()}}});
//# sourceMappingURL=command-palette-50611614.js.map
